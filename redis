1.为什么用redis做分布式缓存

redis是存储到内存非关系型数据库，性能好，速度快
redis是单线程的，并使用队列实现线程的串行化访问，并发性能好。
redis可以集群。

2.redis的持久化方式有哪些？

RDB持久化，默认持久化方式。redis会创建一个fork子进程，将父进程数据库的数据复制到子进程的内存中，然后子进程就把内存中的数据写到rdb文件中。下次redis
启动时，rdb文件中的数据会恢复到内存z中

AOF持久化，以追加写入日志的方式记录redis的写操作，redis重启时通过执行日志中的操作来恢复数据到内存中。

RDB和AOF同时开启时优先执行AOF

3.redis的内存淘汰机制

定时删除。指定键值对在一段时间后自动删除

通过LRU最近最少被使用算法，删除哪些最近最少被使用的键值对。

3.redis存储的类型

String字符串
list 底层是链表
set  
zset 带有score的set ，通过score进行排序
hash 

4.缓存一致性

先删缓存再更新数据库有线程安全问题。可以利用消息队列解决。

5.hash一致性

redis集群使用是如果增加或减少redis服务器时，会导致缓存hash值重新计算，全部缓存暂时失效，引起缓存雪崩问题。
解决：用一致性hash算法。

6.缓存雪崩

缓存突然失效导致请求大量访问数据库的现象，可能会导致数据库崩溃。
解决方法：限制流量，启动本地缓存。

7.缓存穿透

请求没有使用缓存直接访问数据库的现象。
解决：进行参数校验，防止非法请求访问。
